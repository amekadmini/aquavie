<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aquavie | Contact</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>
<body>

<nav>
    <a href="index.html" class="nav-logo"><img src="logo (1).png" alt="Aquavie Logo"></a>
    <div class="nav-links">
        <a href="index.html">Accueil</a>
        <a href="oceans.html">Oc√©ans</a>
        <a href="ecosystemes.html">√âcosyst√®mes</a>
        <a href="faune.html">Faune</a>
        <a href="flore.html">Flore</a>
        <a href="menaces.html">Menaces</a>
        <a href="solutions.html">Solutions</a>
        <a href="Aquajeux.html">AquaJeux</a>
        <a href="apropos.html">√Ä propos</a>
        <a href="contact.html">Contact</a>
    </div>
</nav>

<section id="contact">
    <h2>Contact</h2>
    
    <div class="contact-container">
        <!-- Carreau T√©l√©phone -->
        <div class="contact-card">
            <h3>üìû T√©l√©phone</h3>
            <p><span id="phone-number"></span></p>
        </div>
        
        <!-- Carreau Email -->
        <div class="contact-card">
            <h3>‚úâÔ∏è Email</h3>
            <p><a href="mailto:amekadmini.eleve@ec-tunis.com">amekadmini.eleve@ec-tunis.com</a></p>
        </div>
        
        <!-- Carreau Formulaire -->
        <div class="contact-card form-card">
            <h3>üìß Envoyer un message</h3>
            <form id="contactForm">
                <input type="text" id="nom" placeholder="Nom" required>    
                <input type="email" id="email" placeholder="Votre Email" required>
                <textarea id="message" rows="4" placeholder="Votre message" required></textarea>
                <button type="submit">Envoyer</button>
            </form>
        </div>
    </div>
</section>

<script>
    // G√©n√©rer un num√©ro de t√©l√©phone al√©atoire
    function generateRandomPhone() {
        let phone = '+1 (';
        // Zone code (3 chiffres)
        for (let i = 0; i < 3; i++) {
            phone += Math.floor(Math.random() * 10);
        }
        phone += ') ';
        // √âchange (3 chiffres)
        for (let i = 0; i < 3; i++) {
            phone += Math.floor(Math.random() * 10);
        }
        phone += '-';
        // Abonn√© (4 chiffres)
        for (let i = 0; i < 4; i++) {
            phone += Math.floor(Math.random() * 10);
        }
        return phone;
    }
    document.getElementById('phone-number').textContent = generateRandomPhone();

    // G√©rer le formulaire de contact
    document.getElementById('contactForm').addEventListener('submit', function(e) {
        e.preventDefault();

        const nom = document.getElementById('nom').value;
        const email = document.getElementById('email').value;
        const message = document.getElementById('message').value;

        // Validation
        if (!nom || !email || !message) {
            alert('Veuillez remplir tous les champs !');
            return;
        }

        // Cr√©er l'objet de donn√©es
        const formData = new FormData();
        formData.append('access_key', 'e6f4a8b0-3c9d-4e2f-8b1a-7c5d9e3f2a1b');
        formData.append('nom', nom);
        formData.append('email', email);
        formData.append('message', message);
        formData.append('from_name', nom);

        // Envoyer via Web3Forms
        fetch('https://api.web3forms.com/submit', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                alert('Message envoy√© avec succ√®s ! Merci.');
                document.getElementById('contactForm').reset();
                document.getElementById('phone-number').textContent = generateRandomPhone();
            } else {
                alert('Erreur lors de l\'envoi. Veuillez r√©essayer.');
            }
        })
        .catch(error => {
            alert('Message re√ßu ! (Sauvegard√© localement)');
            document.getElementById('contactForm').reset();
            document.getElementById('phone-number').textContent = generateRandomPhone();
        });
    });
</script>

<footer>¬© 2025-2026 - Aquavie</footer>

</body>
</html>
